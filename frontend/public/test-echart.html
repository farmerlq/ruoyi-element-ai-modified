<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ECharts 测试页面</title>
    <script src="/node_modules/echarts/dist/echarts.min.js"></script>
</head>
<body>
    <div id="chart-container" style="width: 100%; height: 400px;"></div>
    
    <script>
        // 等待DOM加载完成
        document.addEventListener('DOMContentLoaded', function() {
            try {
                console.log('开始测试 ECharts');
                
                const chartContainer = document.getElementById('chart-container');
                console.log('图表容器:', chartContainer);
                
                // 初始化图表实例
                console.log('准备初始化 ECharts 实例');
                const chart = echarts.init(chartContainer);
                console.log('ECharts 实例初始化成功:', chart);
                
                // 图表配置
                const options = {
                    title: {
                        text: 'ECharts 测试图表'
                    },
                    tooltip: {},
                    xAxis: {
                        data: ['一月', '二月', '三月', '四月', '五月', '六月']
                    },
                    yAxis: {},
                    series: [{
                        name: '销量',
                        type: 'bar',
                        data: [5, 20, 36, 10, 10, 20]
                    }]
                };
                
                // 设置图表选项
                console.log('设置图表配置');
                chart.setOption(options);
                console.log('图表配置设置完成');
                
                // 监听窗口大小变化，自适应图表
                window.addEventListener('resize', function() {
                    chart.resize();
                });
                
            } catch (error) {
                console.error('ECharts 测试失败:', error);
                const errorElement = document.createElement('div');
                errorElement.style.color = 'red';
                errorElement.textContent = 'ECharts 测试失败: ' + error.message;
                document.body.appendChild(errorElement);
            }
        });
    </script>
</body>
</html>